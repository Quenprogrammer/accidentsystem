<div class="container-fluid mt-4">
  <h3>All Reports</h3>

  <!-- Search Input -->
  <div class="input-group mb-3">
    <input type="text" class="form-control" placeholder="Search reports..." [formControl]="searchControl">
  </div>

  <!-- Table -->
  <div class="table-responsive">
    <table class="table table-striped table-hover table-bordered align-middle">
      <thead class="table-dark">
      <tr>
        <th>Name</th>
        <th>Gender</th>
        <th>Age Range</th>
        <th>Phone</th>
        <th>Vehicle</th>
        <th>City</th>
        <th>State</th>
        <th>Type</th>
        <th>Money Lost</th>
        <th>Action</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let report of filteredReports()">
        <td>{{ report.firstName }} {{ report.lastName }}</td>
        <td>{{ report.gender }}</td>
        <td>{{ report.ageRange }}</td>
        <td>{{ report.phone }}</td>
        <td>{{ report.vehicle }}</td>
        <td>{{ report.city }}</td>
        <td>{{ report.state }}</td>
        <td>{{ report.userAccountTypeRadio }}</td>
        <td>{{ report.moneyLost | currency:'NGN' }}</td>
        <td>
          <button class="btn btn-sm btn-primary me-1" (click)="openReport(report)">View</button>
          <button class="btn btn-sm btn-danger" (click)="deleteReport(report.id)">Delete</button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

</div>
<div *ngIf="ModalOpen()" class="modal fade show d-block" tabindex="-1" style="background-color: rgba(0,0,0,0.5);">
  <div class="modal-dialog modal-dialog-scrollable modal-lg">
    <div class="modal-content">

      <div class="modal-header justify-content-center">
        <h3 class="modal-title text-center w-100">Result Details</h3>
        <button type="button" class="btn-close position-absolute end-0 me-3" (click)="ModalOpen.set(false)"></button>
      </div>


      <!-- Body -->
      <div class="modal-body" >

        <!-- View Report Section -->
        <div *ngIf="selectedReport()" class="card border-primary mt-4">

          <div class="card-body row g-3">
            <div class="col-md-6"><strong>Full Name:</strong> {{ selectedReport().firstName }} {{ selectedReport().lastName }}</div>
            <div class="col-md-6"><strong>Gender:</strong> {{ selectedReport().gender }}</div>
            <div class="col-md-6"><strong>Age Range:</strong> {{ selectedReport().ageRange }}</div>
            <div class="col-md-6"><strong>Phone:</strong> {{ selectedReport().phone }}</div>
            <div class="col-md-6"><strong>Vehicle:</strong> {{ selectedReport().vehicle }}</div>
            <div class="col-md-6"><strong>City:</strong> {{ selectedReport().city }}</div>
            <div class="col-md-6"><strong>State:</strong> {{ selectedReport().state }}</div>
            <div class="col-md-6"><strong>Department:</strong> {{ selectedReport().department }}</div>
            <div class="col-md-6"><strong>Organization:</strong> {{ selectedReport().organization }}</div>
            <div class="col-md-6"><strong>Type:</strong> {{ selectedReport().userAccountTypeRadio }}</div>
            <div class="col-md-6"><strong>Money Lost:</strong> â‚¦{{ selectedReport().moneyLost }}</div>
            <div class="col-12"><strong>Message:</strong> {{ selectedReport().message || 'N/A' }}</div>
          </div>
        </div>

        <!-- No data -->
        <div *ngIf="filteredReports().length === 0" class="alert alert-warning mt-3">
          No matching reports found.
        </div>
      </div>

      <!-- Footer -->

    </div>
  </div>
</div>
